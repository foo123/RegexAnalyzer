/**
*
*   RegExAnalyzer
*   @version: 0.4.3
*
*   A simple Regular Expression Analyzer for PHP, Python, Node/JS
*   https://github.com/foo123/RegexAnalyzer
*
**/
!function(e,t,r){"use strict";var a,p="object"==typeof module&&module.exports,n="function"==typeof define&&define.amd;p?module.exports=(module.$deps=module.$deps||{})[t]=module.$deps[t]||r.call(e,{NODE:module})||1:n&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(t,a,p){return r.call(e,{AMD:p})}):t in e||(e[t]=a=r.call(e,{})||1)&&n&&define(t,[],function(){return a})}(this,"RegExAnalyzer",function(){"use strict";var e="0.4.3",t="prototype",r=Object,a=r.keys,p=(r[t].toString,String.fromCharCode),n="charAt",s="charCodeAt",l=1/0,g="\\",h={".":"MatchAnyChar","|":"MatchEither","?":"MatchZeroOrOne","*":"MatchZeroOrMore","+":"MatchOneOrMore","^":"MatchStart",$:"MatchEnd","{":"StartRepeats","}":"EndRepeats","(":"StartGroup",")":"EndGroup","[":"StartCharGroup","]":"EndCharGroup"},i={"\\":"EscapeChar","/":"/",0:"NULChar",f:"FormFeed",n:"LineFeed",r:"CarriageReturn",t:"HorizontalTab",v:"VerticalTab",b:"MatchWordBoundary",B:"MatchNonWordBoundary",s:"MatchSpaceChar",S:"MatchNonSpaceChar",w:"MatchWordChar",W:"MatchNonWordChar",d:"MatchDigitChar",D:"MatchNonDigitChar"},u=function(e,t){return Math.round((t-e)*Math.random()+e)},f=function(e){return e[s](0)},o=function(e){return[e[s](0),e[s](e.length-1)]},c=function(e,t){e&&"function"==typeof e.push&&(t=e[1],e=e[0]);var r,a,n=e[s](0),l=t[s](0);if(l==n)return[p(n)];for(a=[],r=n;l>=r;++r)a.push(p(r));return a},y=function(e,t){if(t&&"function"==typeof t.push)for(var r=0,a=t.length;a>r;r++)e[t[r]]=1;else for(var r in t)e[r]=1;return e},d=" 	",S="~!@#$%^&*()-+=[]{}\\|;:,./<>?",C="0123456789",M=o(C),x=[M,[f("a"),f("f")],[f("A"),f("F")]],v="_"+c("a","z").join("")+c("A","Z").join(""),m=d+S+C+v,$=m.split(""),G=function(e,t,r,a,p){r=r||0,a=a||1,p=p||l;for(var s,g=r,h=0;g<t.length&&p>=h&&-1<e.indexOf(s=t[n](g));)g++,h++;return h>=a?h:!1},O=function(e,t,r,a,p){r=r||0,a=a||1,p=p||l;for(var n,g=r,h=0;g<t.length&&p>=h&&(n=t[s](g))>=e[0]&&n<=e[1];)g++,h++;return h>=a?h:!1},b=function(e,t,r,a,p){r=r||0,a=a||1,p=p||l;for(var n,g,h,i,u=r,f=0,o=e.length;u<t.length&&p>=f;){for(n=t[s](u),i=!0,g=0;o>g;g++)if(h=e[g],n>=h[0]&&n<=h[1]){u++,f++,i=!1;break}if(i)break}return f>=a?f:!1},R=function(){return S[n](u(0,S.length-1))},N=function(e){return!1!==e?d[n](u(0,d.length-1)):(R()+k()+A())[n](u(0,2))},k=function(e){return!1!==e?C[n](u(0,C.length-1)):(R()+N()+A())[n](u(0,2))},A=function(e){return!1!==e?v[n](u(0,v.length-1)):(R()+N()+k())[n](u(0,2))},q=function(e){return!1!==e?(v+C)[n](u(0,v.length+C.length-1)):(R()+N())[n](u(0,1))},E=function(){return m[n](u(0,m.length-1))},I=function(e,t){if(!1!==t)return e.length?e[u(0,e.length-1)]:"";var r=$.filter(function(t){return 0>e.indexOf(t)});return r.length?r[u(0,r.length-1)]:""},W=function(e){return u(0,1)?e.toLowerCase():e.toUpperCase()},Z=function(e,t){return t?(e[n]&&(e=e.split("")),e=e.map(W)):W(e)},w=function B(e,t){var r,a,p,n,s="";if(n=e.type,"Alternation"==n)s+=B(e.part[u(0,e.part.length-1)],t);else if("Group"==n)s+=B(e.part,t);else if("Sequence"==n){var l,g,h;for(p=e.part.length,r=e.part[a],a=0;p>a;a++)if(r=e.part[a])if(l=1,"Quantifier"==r.type)for(r.flags.MatchZeroOrMore?l=u(0,10):r.flags.MatchZeroOrOne?l=u(0,1):r.flags.MatchOneOrMore?l=u(1,11):(g=parseInt(r.flags.MatchMinimum,10),h=parseInt(r.flags.MatchMaximum,10),l=u(g,isNaN(h)?g+10:h));l>0;)l--,s+=B(r.part,t);else"Special"==r.type?r.flags.MatchAnyChar&&(s+=E()):s+=B(r,t)}else if("CharGroup"==n){var i,f=[];for(a=0,p=e.part.length;p>a;a++)r=e.part[a],i=r.type,"Chars"==i?f=f.concat(t?Z(r.part,!0):r.part):"CharRange"==i?f=f.concat(t?Z(c(r.part),!0):c(r.part)):"UnicodeChar"==i||"HexChar"==i?f.push(t?Z(r.flags.Char):r.flags.Char):"Special"==i&&f.push("D"==r.part?k(!1):"W"==r.part?q(!1):"S"==r.part?N(!1):"d"==r.part?k():"w"==r.part?q():"s"==r.part?N():"\\"+r.part);s+=I(f,!e.flags.NotMatch)}else"String"==n?s+=t?Z(e.part):e.part:"Special"!=n||e.flags.MatchStart||e.flags.MatchEnd?("UnicodeChar"==n||"HexChar"==n)&&(s+=t?Z(e.flags.Char):e.flags.Char):s+="D"==e.part?k(!1):"W"==e.part?q(!1):"S"==e.part?N(!1):"d"==e.part?k():"w"==e.part?q():"s"==e.part?N():"."==e.part?E():"\\"+e.part;return s},D=function P(e){var t,r,a,p,s,l,g,h,i={},u={};if(g=e.type,"Alternation"==g)for(a=0,p=e.part.length;p>a;a++)s=P(e.part[a]),i=y(i,s.peek),u=y(u,s.negativepeek);else if("Group"==g)s=P(e.part),i=y(i,s.peek),u=y(u,s.negativepeek);else if("Sequence"==g){for(a=0,p=e.part.length,r=e.part[a],l=a>=p||!r||"Quantifier"!=r.type||!r.flags.MatchZeroOrMore&&!r.flags.MatchZeroOrOne&&"0"!=r.flags.MatchMinimum;!l;)s=P(r.part),i=y(i,s.peek),u=y(u,s.negativepeek),a++,r=e.part[a],l=a>=p||!r||"Quantifier"!=r.type||!r.flags.MatchZeroOrMore&&!r.flags.MatchZeroOrOne&&"0"!=r.flags.MatchMinimum;p>a&&(r=e.part[a],"Special"!=r.type||"^"!=r.part&&"$"!=r.part||(r=e.part[a+1]||null),r&&"Quantifier"==r.type&&(r=r.part),r&&(s=P(r),i=y(i,s.peek),u=y(u,s.negativepeek)))}else if("CharGroup"==g)for(t=e.flags.NotMatch?u:i,a=0,p=e.part.length;p>a;a++)r=e.part[a],h=r.type,"Chars"==h?t=y(t,r.part):"CharRange"==h?t=y(t,c(r.part)):"UnicodeChar"==h||"HexChar"==h?t[r.flags.Char]=1:"Special"==h&&("D"==r.part?e.flags.NotMatch?i["\\d"]=1:u["\\d"]=1:"W"==r.part?e.flags.NotMatch?i["\\w"]=1:u["\\W"]=1:"S"==r.part?e.flags.NotMatch?i["\\s"]=1:u["\\s"]=1:t["\\"+r.part]=1);else"String"==g?i[e.part[n](0)]=1:"Special"!=g||e.flags.MatchStart||e.flags.MatchEnd?("UnicodeChar"==g||"HexChar"==g)&&(i[e.flags.Char]=1):"D"==e.part?u["\\d"]=1:"W"==e.part?u["\\W"]=1:"S"==e.part?u["\\s"]=1:i["\\"+e.part]=1;return{peek:i,negativepeek:u}},U=function(e){var t=!1;return e.length>2&&"x"===e[n](0)&&b(x,e,1,2,2)?[t=e.slice(0,3),t.slice(1)]:!1},z=function(e){var t=!1;return e.length>4&&"u"===e[n](0)&&b(x,e,1,4,4)?[t=e.slice(0,5),t.slice(1)]:!1},Q=function(e){var t,r=0,a=!1;return e.length>2&&"{"===e[n](r)?(a=["","",null],r++,(t=G(d,e,r))&&(r+=t),(t=O(M,e,r))?(a[1]=e.slice(r,r+t),r+=t,(t=G(d,e,r))&&(r+=t),","===e[n](r)&&(r+=1),(t=G(d,e,r))&&(r+=t),(t=O(M,e,r))&&(a[2]=e.slice(r,r+t),r+=t),(t=G(d,e,r))&&(r+=t),"}"===e[n](r)?(r++,a[0]=e.slice(0,r),a):!1):!1):!1},H=function T(e){var t,r,a,s="",l=[],u=[],f={},o=!1,c=e.regex.substr(e.pos,2);for("?:"==c?(f.NotCaptured=1,e.pos+=2):"?="==c?(f.LookAhead=1,e.pos+=2):"?!"==c&&(f.NegativeLookAhead=1,e.pos+=2),f.GroupIndex=++e.groupIndex;e.pos<e.regex.length;)if(t=e.regex[n](e.pos++),o=g==t?!0:!1,o&&(t=e.regex[n](e.pos++)),o)"u"==t?(s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),a=z(e.regex.substr(e.pos-1)),e.pos+=a[0].length-1,u.push({part:a[0],flags:{Char:p(parseInt(a[1],16)),Code:a[1]},type:"UnicodeChar"})):"x"==t?(s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),a=U(e.regex.substr(e.pos-1)),e.pos+=a[0].length-1,u.push({part:a[0],flags:{Char:p(parseInt(a[1],16)),Code:a[1]},type:"HexChar"})):i[t]&&"/"!=t?(s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),r={},r[i[t]]=1,u.push({part:t,flags:r,type:"Special"})):s+=t;else{if(")"==t)return s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),l.length?(l.push({part:u,flags:{},type:"Sequence"}),u=[],r={},r[h["|"]]=1,{part:{part:l,flags:r,type:"Alternation"},flags:f,type:"Group"}):{part:{part:u,flags:{},type:"Sequence"},flags:f,type:"Group"};if("|"==t)s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),l.push({part:u,flags:{},type:"Sequence"}),u=[];else if("["==t)s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),u.push(L(e));else if("("==t)s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),u.push(T(e));else if("{"==t){s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),a=Q(e.regex.substr(e.pos-1)),e.pos+=a[0].length-1,r={part:a[0],MatchMinimum:a[1],MatchMaximum:a[2]||"unlimited"},r[h[t]]=1,"?"==e.regex[n](e.pos)?(r.isGreedy=0,e.pos++):r.isGreedy=1;var y=u.pop();"String"==y.type&&y.part.length>1&&(u.push({part:y.part.slice(0,-1),flags:{},type:"String"}),y.part=y.part.slice(-1)),u.push({part:y,flags:r,type:"Quantifier"})}else if("*"==t||"+"==t||"?"==t){s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),r={},r[h[t]]=1,"?"==e.regex[n](e.pos)?(r.isGreedy=0,e.pos++):r.isGreedy=1;var y=u.pop();"String"==y.type&&y.part.length>1&&(u.push({part:y.part.slice(0,-1),flags:{},type:"String"}),y.part=y.part.slice(-1)),u.push({part:y,flags:r,type:"Quantifier"})}else h[t]?(s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),r={},r[h[t]]=1,u.push({part:t,flags:r,type:"Special"})):s+=t}return s.length&&(u.push({part:s,flags:{},type:"String"}),s=""),l.length?(l.push({part:u,flags:{},type:"Sequence"}),u=[],r={},r[h["|"]]=1,{part:{part:l,flags:r,type:"Alternation"},flags:f,type:"Group"}):{part:{part:u,flags:{},type:"Sequence"},flags:f,type:"Group"}},L=function(e){var t,r,a,s,l,h,u=[],f=[],o={},c=!1,y=!1;for("^"==e.regex[n](e.pos)&&(o.NotMatch=1,e.pos++);e.pos<e.regex.length;)if(h=!1,a=r,r=e.regex[n](e.pos++),y=g==r?!0:!1,y&&(r=e.regex[n](e.pos++)),y&&("u"==r?(l=z(e.regex.substr(e.pos-1)),e.pos+=l[0].length-1,r=p(parseInt(l[1],16)),h=!0):"x"==r&&(l=U(e.regex.substr(e.pos-1)),e.pos+=l[0].length-1,r=p(parseInt(l[1],16)),h=!0)),c)f.length&&(u.push({part:f,flags:{},type:"Chars"}),f=[]),s[1]=r,c=!1,u.push({part:s,flags:{},type:"CharRange"});else if(y)!h&&i[r]&&"/"!=r?(f.length&&(u.push({part:f,flags:{},type:"Chars"}),f=[]),t={},t[i[r]]=1,u.push({part:r,flags:t,type:"Special"})):f.push(r);else{if("]"==r)return f.length&&(u.push({part:f,flags:{},type:"Chars"}),f=[]),{part:u,flags:o,type:"CharGroup"};"-"==r?(s=[a,""],f.pop(),c=!0):f.push(r)}return f.length&&(u.push({part:f,flags:{},type:"Chars"}),f=[]),{part:u,flags:o,type:"CharGroup"}},j=function(e){for(var t,r,a,s={pos:0,groupIndex:0,regex:e},l="",u=[],f=[],o=!1;s.pos<s.regex.length;)if(t=s.regex[n](s.pos++),o=g==t?!0:!1,o&&(t=s.regex[n](s.pos++)),o)"u"==t?(l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),a=z(s.regex.substr(s.pos-1)),s.pos+=a[0].length-1,f.push({part:a[0],flags:{Char:p(parseInt(a[1],16)),Code:a[1]},type:"UnicodeChar"})):"x"==t?(l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),a=U(s.regex.substr(s.pos-1)),s.pos+=a[0].length-1,f.push({part:a[0],flags:{Char:p(parseInt(a[1],16)),Code:a[1]},type:"HexChar"})):i[t]&&"/"!=t?(l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),r={},r[i[t]]=1,f.push({part:t,flags:r,type:"Special"})):l+=t;else if("|"==t)l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),u.push({part:f,flags:{},type:"Sequence"}),f=[];else if("["==t)l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),f.push(L(s));else if("("==t)l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),f.push(H(s));else if("{"==t){l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),a=Q(s.regex.substr(s.pos-1)),s.pos+=a[0].length-1,r={part:a[0],MatchMinimum:a[1],MatchMaximum:a[2]||"unlimited"},r[h[t]]=1,"?"==s.regex[n](s.pos)?(r.isGreedy=0,s.pos++):r.isGreedy=1;var c=f.pop();"String"==c.type&&c.part.length>1&&(f.push({part:c.part.slice(0,-1),flags:{},type:"String"}),c.part=c.part.slice(-1)),f.push({part:c,flags:r,type:"Quantifier"})}else if("*"==t||"+"==t||"?"==t){l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),r={},r[h[t]]=1,"?"==s.regex[n](s.pos)?(r.isGreedy=0,s.pos++):r.isGreedy=1;var c=f.pop();"String"==c.type&&c.part.length>1&&(f.push({part:c.part.slice(0,-1),flags:{},type:"String"}),c.part=c.part.slice(-1)),f.push({part:c,flags:r,type:"Quantifier"})}else h[t]?(l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),r={},r[h[t]]=1,f.push({part:t,flags:r,type:"Special"})):l+=t;return l.length&&(f.push({part:l,flags:{},type:"String"}),l=""),u.length?(u.push({part:f,flags:{},type:"Sequence"}),f=[],r={},r[h["|"]]=1,{part:u,flags:r,type:"Alternation"}):{part:f,flags:{},type:"Sequence"}},F=function V(e,t){return this instanceof V?void(e&&this.regex(e,t)):new V(e,t)};return F.VERSION=e,F.getCharRange=c,F[t]={constructor:F,$regex:null,$flags:null,$parts:null,$needsRefresh:!0,dispose:function(){var e=this;return e.$regex=null,e.$flags=null,e.$parts=null,e},regex:function(e,t){var r=this;if(e){t=t||"/";for(var a={},p=e.toString(),s=p.length,l=p[n](s-1);t!==l;)a[l]=1,p=p.substr(0,s-1),s=p.length,l=p[n](s-1);t==p[n](0)&&t==p[n](s-1)&&(p=p.substr(1,s-2)),r.$regex!==p&&(r.$needsRefresh=!0),r.$regex=p,r.$flags=a}return r},analyze:function(){var e=this;return e.$needsRefresh&&(e.$parts=j(e.$regex),e.$needsRefresh=!1),e},getRegex:function(){return new RegExp(this.$regex,a(this.$flags).join(""))},getParts:function(){var e=this;return e.$needsRefresh&&e.analyze(),e.$parts},generateSample:function(){var e=this;return e.$needsRefresh&&e.analyze(),w(e.$parts,e.$flags&&e.$flags.i)},match:function(){return!1},getPeekChars:function(){var e,t,r,a,p,s,l=this;l.$needsRefresh&&l.analyze(),t=D(l.$parts),e=l.$flags&&l.$flags.i;for(r in t){s={},p=t[r];for(a in p)"\\d"==a?(delete p[a],s=y(s,c("0","9"))):"\\s"==a?(delete p[a],s=y(s,["\f","\n","\r","	","","Â ","\u2028","\u2029"])):"\\w"==a?(delete p[a],s=y(s,["_"].concat(c("0","9")).concat(c("a","z")).concat(c("A","Z")))):"\\."==a?(delete p[a],s[h["."]]=1):"\\"!=a[n](0)&&e?(s[a.toLowerCase()]=1,s[a.toUpperCase()]=1):"\\"==a[n](0)&&delete p[a];t[r]=y(p,s)}return t}},F});