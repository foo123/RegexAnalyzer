/**
*
*   Regex
*   @version: 1.0.0
*
*   A simple & generic Regular Expression Analyzer & Composer for PHP, Python, Node/XPCOM/JS, Java, C/C++, ActionScript
*   https://github.com/foo123/RegexAnalyzer
*
**/
!function(e,n,r){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(e.$deps=e.$deps||{})&&(e.EXPORTED_SYMBOLS=[n])&&(e[n]=e.$deps[n]=r.call(e)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[n]=r.call(e)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(n,[],function(t){t(n,r.call(e))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["module"],function(n){return r.moduleUri=n.uri,r.call(e)}):n in e||(e[n]=r.call(e)||1)&&"function"==typeof define&&define.amd&&define(function(){return e[n]})}(this,"Regex",function(e){"use strict";function n(e){return e instanceof Array||"[object Array]"===h.call(e)}function r(e){return e instanceof String||"[object String]"===h.call(e)}function t(e){return n(e)?e:[e]}function a(e,n){n=n||{};for(var r in e)g.call(e,r)&&(n[r]=e[r]);return n}function l(e){var n=this;n.re=e,n.len=e.length,n.pos=0,n.index=0,n.groupIndex=0,n.group={},n.inGroup=0}function u(e,n,r){var t=this;if(!(t instanceof u))return new u(e,n,r);switch(t.type=e,t.val=n,t.flags=r||{},e){case S:t.typeName="Sequence";break;case M:t.typeName="Alternation";break;case N:t.typeName="Group";break;case b:t.typeName="CharacterGroup";break;case R:t.typeName="Characters";break;case A:t.typeName="CharacterRange";break;case L:t.typeName="String";break;case k:t.typeName="Quantifier";break;case O:t.typeName="UnicodeChar";break;case I:t.typeName="HexChar";break;case E:t.typeName="Special";break;case j:t.typeName="Comment";break;default:t.typeName="unspecified"}}function o(e,n){return this instanceof o?void(e&&this.input(e,n)):new o(e,n)}function s(){var e=this;return e instanceof s?(e.re=null,void e.reset()):new s}var i="1.0.0",p="prototype",c=Object[p],f=Array[p],h=(Object.keys,c.toString),g=c.hasOwnProperty,v=String.fromCharCode,d="charAt",m="charCodeAt",y=(JSON.stringify,1/0),C="\\",G={".":"MatchAnyChar","|":"MatchEither","?":"MatchZeroOrOne","*":"MatchZeroOrMore","+":"MatchOneOrMore","^":"MatchStart",$:"MatchEnd","{":"StartRepeats","}":"EndRepeats","(":"StartGroup",")":"EndGroup","[":"StartCharGroup","]":"EndCharGroup"},x={"\\":"ESC","/":"/",0:"NULChar",f:"FormFeed",n:"LineFeed",r:"CarriageReturn",t:"HorizontalTab",v:"VerticalTab",b:"MatchWordBoundary",B:"MatchNonWordBoundary",s:"MatchSpaceChar",S:"MatchNonSpaceChar",w:"MatchWordChar",W:"MatchNonWordChar",d:"MatchDigitChar",D:"MatchNonDigitChar"},S=1,M=2,N=4,b=8,k=16,O=32,I=64,E=128,R=256,A=512,L=1024,j=2048;l[p]={constructor:l,re:null,len:null,pos:null,index:null,groupIndex:null,inGroup:null,groups:null,dispose:function(){var e=this;e.re=null,e.len=null,e.pos=null,e.index=null,e.groupIndex=null,e.group=null,e.inGroup=null}},u.toObjectStatic=function Ie(e){return e instanceof u?e.flags&&Object.keys(e.flags).length?{type:e.typeName,value:Ie(e.val),flags:e.flags}:{type:e.typeName,value:Ie(e.val)}:n(e)?e.map(Ie):e},u[p]={constructor:u,type:null,typeName:null,val:null,flags:null,dispose:function(){var e=this;return e.val=null,e.flags=null,e.type=null,e.typeName=null,e},toObject:function(){return u.toObjectStatic(this)}};var B=function(e,n){return Math.round((n-e)*Math.random()+e)},w=function(e,n){return new RegExp(e,n||"")},z=function(e){return f.slice.apply(e,f.slice.call(arguments,1))},D=function(e){for(var n=[],r=0;r<e.length;)n=n.concat(e[r++]);return n},U=function(e,n){return D(z(e))},F=function(e,n,r){var t,a="",l=e.length,u=0;if(r)for(;l>u;)t=e[d](u++),a+=("-"===t||"^"===t||"$"===t||"|"===t||"{"===t||"}"===t||"("===t||")"===t||"["===t||"]"===t||"/"===t||n===t?n:"")+t;else for(;l>u;)t=e[d](u++),a+=("?"===t||"*"===t||"+"===t||"."===t||"^"===t||"$"===t||"|"===t||"{"===t||"}"===t||"("===t||")"===t||"["===t||"]"===t||"/"===t||n===t?n:"")+t;return a},$=function(e,n,r){var t=String(e);for(r=r||"0";t.length<n;)t=r+t;return t},P=function(e){return e[m](0)},W=function(e){return[e[m](0),e[m](e.length-1)]},T=function(e,r){e&&n(e)&&(r=e[1],e=e[0]);var t,a,l=e[m](0),u=r[m](0);if(u===l)return[v(l)];for(a=[],t=l;u>=t;++t)a.push(v(t));return a},Z=function(e,r){if(r){var t,a;if(n(r))for(t=0,a=r.length;a>t;t++)e[r[t]]=1;else for(t in r)g.call(r,t)&&(e[t]=1)}return e},q=" 	\x0B",V="~!@#$%^&*()-+=[]{}\\|;:,./<>?",H="0123456789",_=W(H),X=[_,[P("a"),P("f")],[P("A"),P("F")]],Y="_"+T("a","z").join("")+T("A","Z").join(""),J=q+V+H+Y,Q=J.split(""),K=function(e,n,r,t,a){r=r||0,t=t||1,a=a||y;for(var l,u=r,o=0,s=n.length;s>u&&a>=o&&-1<e.indexOf(l=n[d](u));)u++,o++;return o>=t?o:!1},ee=function(e,n,r,t,a){r=r||0,t=t||1,a=a||y;for(var l,u=r,o=0,s=n.length;s>u&&a>=o&&(l=n[m](u))>=e[0]&&l<=e[1];)u++,o++;return o>=t?o:!1},ne=function(e,n,r,t,a){r=r||0,t=t||1,a=a||y;for(var l,u,o,s=r,i=0,p=n.length,c=e.length,f=!0;p>s&&a>=i&&f;)for(l=n[m](s),f=!1,u=0;c>u;u++)if(o=e[u],l>=o[0]&&l<=o[1]){s++,i++,f=!0;break}return i>=t?i:!1},re=function(){return V[d](B(0,V.length-1))},te=function(e){return!1!==e?q[d](B(0,q.length-1)):(re()+ae()+le())[d](B(0,2))},ae=function(e){return!1!==e?H[d](B(0,H.length-1)):(re()+te()+le())[d](B(0,2))},le=function(e){return!1!==e?Y[d](B(0,Y.length-1)):(re()+te()+ae())[d](B(0,2))},ue=function(e){return!1!==e?(Y+H)[d](B(0,Y.length+H.length-1)):(re()+te())[d](B(0,1))},oe=function(){return J[d](B(0,J.length-1))},se=function(e,n){if(!1!==n)return e.length?e[B(0,e.length-1)]:"";var r=Q.filter(function(n){return 0>e.indexOf(n)});return r.length?r[B(0,r.length-1)]:""},ie=function(e){return.5<Math.random()?e.toLowerCase():e.toUpperCase()},pe=function(e,n){return n?(e[d]&&(e=e.split("")),e=e.map(ie)):ie(e)},ce=function Ee(e,n,r){if(null==n||!r)return e;var a,l,o,s=n instanceof u?n.type:null;if(null===s)e=r.reduce(e,n,r);else if(r.IGNORE&s);else if(r.MAP&s){if(o=r.map(e,n,r),null!=r.ret)e=r.reduce(e,n,r),r.ret=null;else if(null!=o)for(o=t(o),a=0,l=o?o.length:0;l>a;a++)if(r.node=n,e=Ee(e,o[a],r),r.stop)return r.stop=null,e}else r.REDUCE&s&&(e=r.reduce(e,n,r));return r.node=null,e},fe=function(e,n,r){var a=n.type;if(M===a){for(var l=[],u=0,o=n.val.length-1;o>u;u++)l.push(n.val[u],"|");return l.push(n.val[o]),l}if(b===a)return[].concat("["+(n.flags.NegativeMatch?"^":"")).concat(t(n.val)).concat("]");if(k===a){var s="";return s=n.flags.MatchZeroOrOne?"?":n.flags.MatchZeroOrMore?"*":n.flags.MatchOneOrMore?"+":n.flags.min===n.flags.max?"{"+n.flags.min+"}":"{"+n.flags.min+","+(-1===n.flags.max?"":n.flags.max)+"}",n.flags.min===n.flags.max||n.flags.isGreedy||(s+="?"),[].concat(t(n.val)).concat(s)}if(N===a){var i=null;return i=n.flags.NotCaptured?[].concat("(?:").concat(t(n.val)).concat(")"):n.flags.LookAhead?[].concat("(?=").concat(t(n.val)).concat(")"):n.flags.NegativeLookAhead?[].concat("(?!").concat(t(n.val)).concat(")"):n.flags.LookBehind?[].concat("(?<=").concat(t(n.val)).concat(")"):n.flags.NegativeLookBehind?[].concat("(?<!").concat(t(n.val)).concat(")"):[].concat("(").concat(t(n.val)).concat(")"),null!=n.flags.GroupIndex&&(e.group[n.flags.GroupIndex]=n.flags.GroupIndex,n.flags.GroupName&&(e.group[n.flags.GroupName]=n.flags.GroupIndex)),i}return n.val},he=function(e,n,r){var t=n.type;if(M===t||b===t)return n.val.length?n.val[B(0,n.val.length-1)]:null;if(k===t){var a,l,u,o;if(e.length>=r.maxLength?a=n.flags.min:(l=n.flags.min,u=-1===n.flags.max?l+1+2*r.maxLength:n.flags.max,a=B(l,u)),a){o=new Array(a);for(var s=0;a>s;s++)o[s]=n.val;return o}return null}if(N===t&&n.flags.GroupIndex){var i=ce("",n.val,r);return r.group[n.flags.GroupIndex]=i,r.ret=i,null}return n.val},ge=function(e,n,r){var t=n.type;if(M===t){var a,l,u=n.val.length,o=u?ce(0,n.val[0],r):0;for(a=1;u>a;a++)l=ce(0,n.val[a],r),o>l&&(o=l);return u&&(r.ret=o),null}if(b===t)return n.val.length?n.val[0]:null;if(k===t){if(0===n.flags.min)return null;var a,s=n.flags.min,i=new Array(s);for(a=0;s>a;a++)i[a]=n.val;return i}if(N===t&&n.flags.GroupIndex){var o=ce(0,n.val,r);return r.group[n.flags.GroupIndex]=o,r.ret=o,null}return n.val},ve=function(e,n,r){var t=n.type;if(M===t){var a,l,u=n.val.length,o=u?ce(0,n.val[0],r):0;if(-1!==o)for(a=1;u>a;a++){if(l=ce(0,n.val[a],r),-1===l){o=-1;break}l>o&&(o=l)}return u&&(r.ret=o),null}if(b===t)return n.val.length?n.val[0]:null;if(k===t)return o=ce(0,n.val,r),-1===o?r.ret=-1:o>0&&(-1===n.flags.max?r.ret=-1:0<n.flags.max?r.ret=n.flags.max*o:r.ret=o),null;if(N===t&&n.flags.GroupIndex){var o=ce(0,n.val,r);return r.group[n.flags.GroupIndex]=o,r.ret=o,null}return n.val},de=function(e,n,r){var t=n.type;if(S===t){var a,l=[],u=0,o=n.val.length;for(u=0;o>u&&(a=n.val[u],l.push(a),k===a.type&&0===a.flags.min||E===a.type&&(a.flags.MatchStart||a.flags.MatchEnd));u++);return l.length?l:null}return n.val},me=function(e,n,r){if(null!=r.ret)return-1===r.ret?e=-1:e+=r.ret,e;if(-1===e)return e;if(n===+n)return e+=n;if(E===n.type&&n.flags.MatchEnd)return r.stop=1,e;var t=n.type;return R===t||A===t||O===t||I===t||E===t&&!n.flags.MatchStart&&!n.flags.MatchEnd?e+=n.flags.BackReference?r.group[n.flags.GroupIndex]||0:1:L===t&&(e+=n.val.length),e},ye=function(e,n,t){if(null!=t.ret)return e+=t.ret;if(r(n))return e+=n;if(E===n.type&&n.flags.MatchEnd)return t.stop=1,e;var a=n.type,l=null;if(R===a)l=n.val;else if(A===a){var u=[n.val[0],n.val[1]];O!==u[0].type&&I!==u[0].type||(u[0]=u[0].flags.Char),O!==u[1].type&&I!==u[1].type||(u[1]=u[1].flags.Char),l=T(u)}else if(O===a||I===a)l=[n.flags.Char];else if(E!==a||n.flags.MatchStart||n.flags.MatchEnd)L===a&&(l=n.val);else{var o=n.val;if(n.flags.BackReference)return e+=g.call(t.group,o)?t.group[o]:"";l="D"===o?[ae(!1)]:"W"===o?[ue(!1)]:"S"===o?[te(!1)]:"d"===o?[ae()]:"w"===o?[ue()]:"s"===o?[te()]:"."===o&&n.flags.MatchAnyChar?[oe()]:[C+o]}return l&&(e+=L===a?t.isCaseInsensitive?pe(l):l:se(t.isCaseInsensitive?pe(l,!0):l,!t.node||!t.node.flags.NegativeMatch)),e},Ce=function(e,n,t){if(null!=t.ret)return t.ret.src&&(e.src+=t.ret.src),t.ret.group&&(e.group=a(t.ret.group,e.group)),e;if(r(n))return e.src+=n,e;var l=n.type;if(R===l)e.src+=t.escaped?F(n.val.join(""),C,1):n.val.join("");else if(A===l){var u=[n.val[0],n.val[1]];t.escaped?(O===u[0].type?u[0]=C+"u"+$(u[0].flags.Code,4):I===u[0].type?u[0]=C+"x"+$(u[0].flags.Code,2):u[0]=F(u[0],C,1),O===u[1].type?u[1]=C+"u"+$(u[1].flags.Code,4):I===u[1].type?u[1]=C+"x"+$(u[1].flags.Code,2):u[1]=F(u[1],C,1)):(O!==u[0].type&&I!==u[0].type||(u[0]=u[0].flags.Char),O!==u[1].type&&I!==u[1].type||(u[1]=u[1].flags.Char)),e.src+=u[0]+"-"+u[1]}else O===l?e.src+=t.escaped?C+"u"+$(n.flags.Code,4):n.flags.Char:I===l?e.src+=t.escaped?C+"x"+$(n.flags.Code,2):n.flags.Char:E===l?n.flags.BackReference?e.src+=C+n.val:e.src+=n.flags.MatchStart||n.flags.MatchEnd?""+n.val:C+n.val:L===l&&(e.src+=t.escaped?F(n.val,C):n.val);return e},Ge=function(e,n,r){if(null!=r.ret)return e.positive=Z(e.positive,r.ret.positive),e.negative=Z(e.negative,r.ret.negative),e;if(E===n.type&&n.flags.MatchEnd)return r.stop=1,e;var t=n.type,a=r.node&&b===r.node.type,l=a&&r.node.flags.NegativeMatch,u=l?"negative":"positive";if(R===t)e[u]=Z(e[u],n.val);else if(A===t){var o=[n.val[0],n.val[1]];O!==o[0].type&&I!==o[0].type||(o[0]=o[0].flags.Char),O!==o[1].type&&I!==o[1].type||(o[1]=o[1].flags.Char),e[u]=Z(e[u],T(o))}else if(O===t||I===t)e[u][n.flags.Char]=1;else if(E!==t||n.flags.BackReference||n.flags.MatchStart||n.flags.MatchEnd)L===t&&(e.positive[n.val[d](0)]=1);else{var s=n.val;"D"===s?e[l?"positive":"negative"]["\\d"]=1:"W"===s?e[l?"positive":"negative"]["\\w"]=1:"S"===s?e[l?"positive":"negative"]["\\s"]=1:e[u][C+s]=1}return e},xe=function(e){var n=!1;return e.length>2&&"x"===e[d](0)&&ne(X,e,1,2,2)?[n=e.slice(0,3),n.slice(1)]:!1},Se=function(e){var n=!1;return e.length>4&&"u"===e[d](0)&&ne(X,e,1,4,4)?[n=e.slice(0,5),n.slice(1)]:!1},Me=function(e){var n,r=e.length,t=0,a=!1,l=!1;return r>2&&"{"===e[d](t)?(a=["","",null],t++,(n=K(q,e,t))&&(t+=n),(n=ee(_,e,t))?(a[1]=e.slice(t,t+n),t+=n,(n=K(q,e,t))&&(t+=n),r>t&&","===e[d](t)&&(t+=1,l=!0),(n=K(q,e,t))&&(t+=n),(n=ee(_,e,t))&&(a[2]=e.slice(t,t+n),t+=n),(n=K(q,e,t))&&(t+=n),r>t&&"}"===e[d](t)?(t++,a[0]=e.slice(0,t),l||(a[2]=a[1]),a):!1):!1):!1},Ne=function(e){var n,r,t,a,l,o,s,i,p=[],c=[],f=[],h={},m=!1,y=!1;for("^"===e.re[d](e.pos)&&(h.NegativeMatch=1,e.pos++),t=e.len;e.pos<t;)if(s=!1,i=!1,o=null,a=r,r=e.re[d](e.pos++),y=C===r,y&&(r=e.re[d](e.pos++)),y&&("u"===r?(o=Se(e.re.substr(e.pos-1)),e.pos+=o[0].length-1,r=u(O,o[0],{Char:v(parseInt(o[1],16)),Code:o[1]}),s=!0,i=!1):"x"===r&&(o=xe(e.re.substr(e.pos-1)),e.pos+=o[0].length-1,r=u(I,o[0],{Char:v(parseInt(o[1],16)),Code:o[1]}),s=!0,i=!0)),m)c.length&&(f=f.concat(c),c=[]),l[1]=r,m=!1,p.push(u(A,l));else if(y)s?(c.length&&(f=f.concat(c),c=[]),p.push(r)):g.call(x,r)&&"/"!==r?(c.length&&(f=f.concat(c),c=[]),n={},n[x[r]]=1,p.push(u(E,r,n))):c.push(r);else{if("]"===r)return c.length&&(f=f.concat(c),c=[]),f.length&&p.push(u(R,f)),u(b,p,h);"-"===r?(l=[a,""],a instanceof u?p.pop():c.pop(),m=!0):c.push(r)}return c.length&&(f=f.concat(c),c=[]),f.length&&p.push(u(R,f)),u(b,p,h)},be=function Re(e){var n,r,t,a,l,o,s,i="",p=0,c=[],f=[],h={},m=!1;if(e.inGroup>0){if(l=e.re.substr(e.pos,2),o=e.re.substr(e.pos,3),s=1,"?P="===o){for(h.BackReference=1,h.GroupName="",e.pos+=3,n=e.len;e.pos<n&&(r=e.re[d](e.pos++),")"!==r);)h.GroupName+=r;return h.GroupIndex=g.call(e.group,h.GroupName)?e.group[h.GroupName]:null,u(E,String(h.GroupIndex),h)}if("?#"===l){for(h.Comment=1,e.pos+=2,i="",n=e.len;e.pos<n&&(r=e.re[d](e.pos++),")"!==r);)i+=r;return u(j,i)}if("?:"===l)h.NotCaptured=1,e.pos+=2,s=0;else if("?="===l)h.LookAhead=1,e.pos+=2,s=0;else if("?!"===l)h.NegativeLookAhead=1,e.pos+=2,s=0;else if("?<="===o)h.LookBehind=1,e.pos+=3,s=0;else if("?<!"===o)h.NegativeLookBehind=1,e.pos+=3,s=0;else if("?<"===l||"?P<"===o)for(h.NamedGroup=1,h.GroupName="",e.pos+="?<"===l?2:3,n=e.len;e.pos<n&&(r=e.re[d](e.pos++),">"!==r);)h.GroupName+=r;++e.index,s&&(++e.groupIndex,h.GroupIndex=e.groupIndex,e.group[h.GroupIndex]=h.GroupIndex,h.GroupName&&(e.group[h.GroupName]=h.GroupIndex))}for(n=e.len;e.pos<n;)if(r=e.re[d](e.pos++),m=C===r,m&&(r=e.re[d](e.pos++)),m)if("u"===r)p&&(f.push(u(L,i)),i="",p=0),t=Se(e.re.substr(e.pos-1)),e.pos+=t[0].length-1,f.push(u(O,t[0],{Char:v(parseInt(t[1],16)),Code:t[1]}));else if("x"===r)p&&(f.push(u(L,i)),i="",p=0),t=xe(e.re.substr(e.pos-1)),e.pos+=t[0].length-1,f.push(u(I,t[0],{Char:v(parseInt(t[1],16)),Code:t[1]}));else if(g.call(x,r)&&"/"!==r)p&&(f.push(u(L,i)),i="",p=0),a={},a[x[r]]=1,f.push(u(E,r,a));else if(r>="1"&&"9">=r){for(p&&(f.push(u(L,i)),i="",p=0),i=r;e.pos<n&&(r=e.re[d](e.pos),r>="0"&&"9">=r);)i+=r,e.pos++;a={},a.BackReference=1,a.GroupIndex=parseInt(i,10),f.push(u(E,i,a)),i=""}else i+=r,p+=1;else{if(e.inGroup>0&&")"===r)return p&&(f.push(u(L,i)),i="",p=0),c.length?(c.push(u(S,f)),f=[],a={},a[G["|"]]=1,u(N,u(M,c,a),h)):u(N,u(S,f),h);if("|"===r)p&&(f.push(u(L,i)),i="",p=0),c.push(u(S,f)),f=[];else if("["===r)p&&(f.push(u(L,i)),i="",p=0),f.push(Ne(e));else if("("===r)p&&(f.push(u(L,i)),i="",p=0),e.inGroup+=1,f.push(Re(e)),e.inGroup-=1;else if("{"===r){p&&(f.push(u(L,i)),i="",p=0),t=Me(e.re.substr(e.pos-1)),e.pos+=t[0].length-1,a={val:t[0],MatchMinimum:t[1],MatchMaximum:t[2]||"unlimited",min:parseInt(t[1],10),max:t[2]?parseInt(t[2],10):-1},a[G[r]]=1,e.pos<n&&"?"===e.re[d](e.pos)?(a.isGreedy=0,e.pos++):a.isGreedy=1;var y=f.pop();L===y.type&&y.val.length>1&&(f.push(u(L,y.val.slice(0,-1))),y.val=y.val.slice(-1)),f.push(u(k,y,a))}else if("*"===r||"+"===r||"?"===r){p&&(f.push(u(L,i)),i="",p=0),a={},a[G[r]]=1,a.min="+"===r?1:0,a.max="?"===r?1:-1,e.pos<n&&"?"===e.re[d](e.pos)?(a.isGreedy=0,e.pos++):a.isGreedy=1;var y=f.pop();L===y.type&&y.val.length>1&&(f.push(u(L,y.val.slice(0,-1))),y.val=y.val.slice(-1)),f.push(u(k,y,a))}else g.call(G,r)?(p&&(f.push(u(L,i)),i="",p=0),a={},a[G[r]]=1,f.push(u(E,r,a))):(i+=r,p+=1)}return p&&(f.push(u(L,i)),i="",p=0),c.length?(c.push(u(S,f)),f=[],a={},h[G["|"]]=1,u(M,c,a)):u(S,f)};o.VERSION=i,o[p]={constructor:o,ast:null,re:null,fl:null,src:null,grp:null,min:null,max:null,ch:null,dispose:function(){var e=this;return e.ast=null,e.re=null,e.fl=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},reset:function(){var e=this;return e.ast=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},input:function(e,n){var r=this;if(!arguments.length)return r.re;if(e){n=!1===n?!1:n||"/";var t,a,l={};if(e=e.toString(),t=e.length,n){for(;t>0&&(a=e[d](t-1),n!==a);)l[a]=1,t--;e=t>0?n===e[d](0)&&n===e[d](t-1)?e.slice(1,t-1):e.slice(0,t):""}r.re!==e&&r.reset(),r.re=e,r.fl=l}return r},analyze:function(){var e=this;if(null!=e.re&&null===e.ast){var n=new l(e.re);e.ast=be(n),n.dispose()}return e},synthesize:function(e){var n,r,t=this;return null==t.re?t:(null===t.ast&&(t.analyze(),t.src=null,t.grp=null),null===t.src&&(n={MAP:S|M|N|b|k,REDUCE:O|I|E|R|A|L,IGNORE:j,map:fe,reduce:Ce,escaped:!1!==e,group:{}},r=ce({src:"",group:{}},t.ast,n),t.src=r.src,t.grp=r.group),t)},source:function(){var e=this;return null==e.re?null:(null===e.src&&e.synthesize(),e.src)},groups:function(e){var n=this;return null==n.re?null:(null===n.grp&&n.synthesize(),!0===e?sel.grp:a(n.grp))},compile:function(e){var n=this;return null==n.re?null:(e=e||n.fl||{},new RegExp(n.source(),(e.g||e.G?"g":"")+(e.i||e.I?"i":"")+(e.m||e.M?"m":"")+(e.y||e.Y?"y":"")))},tree:function(e){var n=this;return null==n.re?null:(null===n.ast&&n.analyze(),!0===e?n.ast.toObject():n.ast)},sample:function(e,n){var r,t=this;if(null==t.re)return null;if(null===t.ast&&t.analyze(),r={MAP:S|M|N|b|k,REDUCE:O|I|E|R|A|L,IGNORE:j,map:he,reduce:ye,maxLength:0|e||1,isCaseInsensitive:null!=t.fl.i,group:{}},n=0|n||1,n>1){for(var a=new Array(n),l=0;n>l;l++)a[l]=ce("",t.ast,r);return a}return ce("",t.ast,r)},minimum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.min=null),null===n.min&&(e={MAP:S|M|N|b|k,REDUCE:O|I|E|R|A|L,IGNORE:j,map:ge,reduce:me,group:{}},n.min=0|ce(0,n.ast,e)),n.min)},maximum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.max=null),null===n.max&&(e={MAP:S|M|N|b|k,REDUCE:O|I|E|R|A|L,IGNORE:j,map:ve,reduce:me,group:{}},n.max=ce(0,n.ast,e)),n.max)},peek:function(){var e,n,r,t,l,u,o,s=this;if(null==s.re)return null;null===s.ast&&(s.analyze(),s.ch=null),null===s.ch&&(e={MAP:S|M|N|b|k,REDUCE:O|I|E|R|A|L,IGNORE:j,map:de,reduce:Ge,group:{}},s.ch=ce({positive:{},negative:{}},s.ast,e)),r={positive:a(s.ch.positive),negative:a(s.ch.negative)},n=null!=s.fl.i;for(t in r){o={},u=r[t];for(l in u)"\\d"===l?(delete u[l],o=Z(o,T("0","9"))):"\\s"===l?(delete u[l],o=Z(o,["\f","\n","\r","	","\x0B","Â ","\u2028","\u2029"])):"\\w"===l?(delete u[l],o=Z(o,["_"].concat(T("0","9")).concat(T("a","z")).concat(T("A","Z")))):"\\."===l?(delete u[l],o[G["."]]=1):C!==l[d](0)&&n?(o[l.toLowerCase()]=1,o[l.toUpperCase()]=1):C===l[d](0)&&delete u[l];r[t]=Z(u,o)}return r}},o[p].set=o[p].input,s.VERSION=i,s[p]={constructor:s,re:null,g:0,grp:null,level:0,ast:null,dispose:function(){var e=this;return e.re=null,e.g=null,e.grp=null,e.level=null,e.ast=null,e},reset:function(){var e=this;return e.g=0,e.grp={},e.level=0,e.ast=[{node:[],type:S,flag:""}],e},compose:function(){var e=this,n=z(arguments).join(""),r=e.ast[0].node.join("");return e.re={source:r,flags:n,groups:e.grp,pattern:w(r,n)},e.reset(),e.re},partial:function(e){var n=this,r=n.ast[0].node.join("");return!1!==e&&n.reset(),r},token:function(e,n){var r=this;return null!=e&&r.ast[r.level].node.push(!0===n?F(String(e),C):String(e)),r},literal:function(e){return this.token(e,!0)},regexp:function(e){return this.token(String(e),!1)},SOL:function(){var e=this;return e.ast[e.level].node.push("^"),e},SOF:function(){return this.SOL()},EOL:function(){var e=this;return e.ast[e.level].node.push("$"),e},EOF:function(){return this.EOL()},LF:function(){var e=this;return e.ast[e.level].node.push(C+"n"),e},CR:function(){var e=this;return e.ast[e.level].node.push(C+"r"),e},TAB:function(){var e=this;return e.ast[e.level].node.push(C+"t"),e},CTRL:function(e){var n=this;return n.ast[n.level].node.push(C+"c"+(e||0)),n},HEX:function(e){var n=this;return n.ast[n.level].node.push(C+"x"+$(e||0,2)),n},UNICODE:function(e){var n=this;return n.ast[n.level].node.push(C+"u"+$(e||0,4)),n},backSpace:function(){var e=this;return e.ast[e.level].node.push("["+C+"b]"),e},any:function(e){var n=this;return n.ast[n.level].node.push(!0===e?"["+C+"s"+C+"S]":"."),n},space:function(e){var n=this;return n.ast[n.level].node.push(!1===e?C+"S":C+"s"),n},digit:function(e){var n=this;return n.ast[n.level].node.push(!1===e?C+"D":C+"d"),n},word:function(e){var n=this;return n.ast[n.level].node.push(!1===e?C+"W":C+"w"),n},boundary:function(e){var n=this;return n.ast[n.level].node.push(!1===e?C+"B":C+"b"),n},characters:function(){var e=this;return b===e.ast[e.level].type&&e.ast[e.level].node.push(U(arguments,1).map(function(e){return F(String(e),C,1)}).join("")),e},range:function(e,n){var r=this;return null!=e&&null!=n&&b===r.ast[r.level].type&&r.ast[r.level].node.push(F(String(e),C,1)+"-"+F(String(n),C,1)),r},backReference:function(e){var n=this;return n.ast[n.level].node.push(C+(g.call(n.grp,e)?n.grp[e]:0|e)),n},repeat:function(e,n,r){var t=this;if(null==e)return t;var a=(null==n||e===n?"{"+String(e)+"}":"{"+String(e)+","+String(n)+"}")+(!1===r?"?":"");return t.ast[t.level].node[t.ast[t.level].node.length-1]+=a,t},zeroOrOne:function(e){var n=this;return n.ast[n.level].node[n.ast[n.level].node.length-1]+=!1===e?"??":"?",n},zeroOrMore:function(e){var n=this;return n.ast[n.level].node[n.ast[n.level].node.length-1]+=!1===e?"*?":"*",n},oneOrMore:function(e){var n=this;return n.ast[n.level].node[n.ast[n.level].node.length-1]+=!1===e?"+?":"+",n},alternate:function(){var e=this;return e.level++,e.ast.push({node:[],type:M,flag:""}),e},either:function(){return this.alternate()},group:function(e){var n=this,r=N,t="";return e=e||{},e.name?(n.g++,n.grp[n.g]=n.g,n.grp[e.name]=n.g):!0===e.lookahead||!1===e.lookahead?t=!1===e.lookahead?"?!":"?=":!0===e.lookbehind||!1===e.lookbehind?t=!1===e.lookbehind?"?<!":"?<=":!0===e.nocapture?t="?:":!0===e.characters||!1===e.characters?(r=b,t=!1===e.characters?"^":""):(n.g++,n.grp[n.g]=n.g),n.level++,n.ast.push({node:[],type:r,flag:t}),n},subGroup:function(e){return this.group(e)},characterGroup:function(e){return this.group({characters:!1!==e})},namedGroup:function(e){return this.group({name:e})},nonCaptureGroup:function(){return this.group({nocapture:!0})},lookAheadGroup:function(e){return this.group({lookahead:!1!==e})},lookBehindGroup:function(e){return this.group({lookbehind:!1!==e})},end:function(e){var n,r,t,a,l=this;for(e=(arguments.length?0|e:1)||1;e--;)n=l.ast.length?l.ast.pop():null,r=n?n.type:0,t=n?n.flag:"",a=n?n.node:[],0<l.level&&(--l.level,M===r?l.ast[l.level].node.push(a.join("|")):N===r?l.ast[l.level].node.push("("+t+a.join("")+")"):b===r?l.ast[l.level].node.push("["+t+a.join("")+"]"):l.ast[l.level].node.push(a.join("")));return l}};var ke=s[p];ke.startOfLine=ke.SOL,ke.endOfLine=ke.EOL,ke.startOfInput=ke.SOF,ke.endOfInput=ke.EOF,ke.match=ke.token,ke.sub=ke.regexp,ke.lineFeed=ke.LF,ke.carriageReturn=ke.CR,ke.tabulate=ke.TAB,ke.wordBoundary=ke.boundary,ke.chars=ke.characters,ke.charGroup=ke.characterGroup,ke.namedSubGroup=ke.namedGroup,ke.nonCaptureSubGroup=ke.nonCaptureGroup,ke.lookAheadSubGroup=ke.lookAheadGroup,ke.lookBehindSubGroup=ke.lookBehindGroup;var Oe={VERSION:i,Node:u,Analyzer:o,Composer:s};return Oe});