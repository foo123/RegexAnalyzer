/**
*
*   Regex
*   @version: 1.2.0
*
*   A simple & generic Regular Expression Analyzer & Composer for PHP, Python, Javascript
*   https://github.com/foo123/RegexAnalyzer
*
**/
!function(n,t,r){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils.import?(n.$deps=n.$deps||{})&&(n.EXPORTED_SYMBOLS=[t])&&(n[t]=n.$deps[t]=r.call(n)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[t]=r.call(n)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System.import?System.register(t,[],function(e){e(t,r.call(n))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["module"],function(e){return r.moduleUri=e.uri,r.call(n)}):t in n||(n[t]=r.call(n)||1)&&"function"==typeof define&&define.amd&&define(function(){return n[t]})}("undefined"!=typeof self?self:this,"Regex",function(){"use strict";var e="1.2.0",n="prototype",t=Object[n],r=Array[n],l=(Object.keys,t.toString),C=t.hasOwnProperty,G=String.fromCharCode,x=String.fromCodePoint||String.fromCharCode,S="charAt",h="charCodeAt",a=String.prototype.codePointAt?"codePointAt":h,b=(JSON.stringify,"\\"),N={".":"MatchAnyChar","|":"MatchEither","?":"MatchZeroOrOne","*":"MatchZeroOrMore","+":"MatchOneOrMore","^":"MatchStart",$:"MatchEnd","{":"StartRepeats","}":"EndRepeats","(":"StartGroup",")":"EndGroup","[":"StartCharGroup","]":"EndCharGroup"},M={"\\":"ESC","/":"/",0:"NULChar",f:"FormFeed",n:"LineFeed",r:"CarriageReturn",t:"HorizontalTab",v:"VerticalTab",b:"MatchWordBoundary",B:"MatchNonWordBoundary",s:"MatchSpaceChar",S:"MatchNonSpaceChar",w:"MatchWordChar",W:"MatchNonWordChar",d:"MatchDigitChar",D:"MatchNonDigitChar"},k=1,O=2,I=4,E=8,R=16,A=32,L=64,j=128,B=256,w=512,P=1024,D=2048;function u(e){return e instanceof Array||"[object Array]"===l.call(e)}function s(e){return e instanceof String||"[object String]"===l.call(e)}function o(e){return u(e)?e:[e]}function i(e,n){for(var t in n=n||{},e)C.call(e,t)&&(n[t]=e[t]);return n}function p(e,n,t){var r=this;r.re=e,r.flags=n,r.flavor=t,r.len=e.length,r.pos=0,r.index=0,r.groupIndex=0,r.group={},r.inGroup=0}function U(e,n,t){var r=this;if(!(r instanceof U))return new U(e,n,t);switch(r.type=e,r.val=n,r.flags=t||{},e){case k:r.typeName="Sequence";break;case O:r.typeName="Alternation";break;case I:r.typeName="Group";break;case E:r.typeName="CharacterGroup";break;case B:r.typeName="Characters";break;case w:r.typeName="CharacterRange";break;case P:r.typeName="String";break;case R:r.typeName="Quantifier";break;case A:r.typeName="UnicodeChar";break;case L:r.typeName="HexChar";break;case j:r.typeName="Special";break;case D:r.typeName="Comment";break;default:r.typeName="unspecified"}}p[n]={constructor:p,re:null,flags:null,flavor:"",len:null,pos:null,index:null,groupIndex:null,inGroup:null,groups:null,dispose:function(){var e=this;e.re=null,e.flags=null,e.flavor=null,e.len=null,e.pos=null,e.index=null,e.groupIndex=null,e.group=null,e.inGroup=null}},U.toObjectStatic=function e(n){return n instanceof U?n.flags&&Object.keys(n.flags).length?{type:n.typeName,value:e(n.val),flags:n.flags}:{type:n.typeName,value:e(n.val)}:u(n)?n.map(e):n},U[n]={constructor:U,type:null,typeName:null,val:null,flags:null,dispose:function(){var e=this;return e.val=null,e.flags=null,e.type=null,e.typeName=null,e},toObject:function(){return U.toObjectStatic(this)}};function f(e,n){return Math.round((n-e)*Math.random()+e)}function c(e){return r.slice.apply(e,r.slice.call(arguments,1))}function g(e,n,t){var r,l="",a=e.length,u=0;if(t)for(;u<a;)l+=("-"===(r=e[S](u++))||"^"===r||"$"===r||"|"===r||"{"===r||"}"===r||"("===r||")"===r||"["===r||"]"===r||"/"===r||n===r?n:"")+r;else for(;u<a;)l+=("?"===(r=e[S](u++))||"*"===r||"+"===r||"."===r||"^"===r||"$"===r||"|"===r||"{"===r||"}"===r||"("===r||")"===r||"["===r||"]"===r||"/"===r||n===r?n:"")+r;return l}function d(e,n,t){var r=String(e);for(t=t||"0";r.length<n;)r=t+r;return r}function v(e,n){e&&u(e)&&(n=e[1],e=e[0]);var t,r,e=e[a](0),l=n[a](0);if(l===e)return[x(e)];for(r=[],t=e;t<=l;++t)r.push(x(t));return r}function m(e,n){var t,r;if(n)if(u(n))for(t=0,r=n.length;t<r;++t)e[n[t]]=1;else for(t in n)C.call(n,t)&&(e[t]=1);return e}function z(e,n,t,r,l){r=r||1,l=l||1/0;for(var a=t=t||0,u=0,s=n.length;a<s&&u<=l&&-1<e.indexOf(n[S](a));)++a,++u;return r<=u&&u}function F(e,n,t,r,l){r=r||1,l=l||1/0;for(var a,u=t=t||0,s=0,o=n.length;u<o&&s<=l&&(a=n[h](u))>=e[0]&&a<=e[1];)++u,++s;return r<=s&&s}function y(e,n,t,r,l){r=r||1,l=l||1/0;for(var a,u,s,o=t=t||0,i=0,p=n.length,f=e.length,c=!0;o<p&&i<=l&&c;)for(a=n[h](o),c=!1,u=0;u<f;++u)if(a>=(s=e[u])[0]&&a<=s[1]){++o,++i,c=!0;break}return r<=i&&i}function $(){return se[S](f(0,se.length-1))}function W(e){return!1!==e?ue[S](f(0,ue.length-1)):($()+ge()+de())[S](f(0,2))}function q(e){return!1!==e?(fe+oe)[S](f(0,fe.length+oe.length-1)):($()+W())[S](f(0,1))}function T(e){return.5<Math.random()?e.toLowerCase():e.toUpperCase()}function Z(e,n){return n?(e[S]&&(e=e.split("")),e=e.map(T)):T(e)}function V(e,n,t){if(null==n||!t)return e;var r,l,a,u=n instanceof U?n.type:null;if(null===u)e=t.reduce(e,n,t);else if(!(t.IGNORE&u))if(t.MAP&u){if(a=t.map(e,n,t),null!=t.ret)e=t.reduce(e,n,t),t.ret=null;else if(null!=a)for(r=0,l=(a=o(a))?a.length:0;r<l;++r)if(t.node=n,e=V(e,a[r],t),t.stop)return t.stop=null,e}else t.REDUCE&u&&(e=t.reduce(e,n,t));return t.node=null,e}function _(e,n){var t=n.type;if(O===t){for(var r=[],l=0,a=n.val.length-1;l<a;++l)r.push(n.val[l],"|");return r.push(n.val[a]),r}if(E===t)return[].concat("["+(n.flags.NegativeMatch?"^":"")).concat(o(n.val)).concat("]");if(R!==t)return I!==t?n.val:(t=null,t=(n.flags.NotCaptured?[].concat("(?:"):n.flags.LookAhead?[].concat("(?="):n.flags.NegativeLookAhead?[].concat("(?!"):n.flags.LookBehind?[].concat("(?<="):n.flags.NegativeLookBehind?[].concat("(?<!"):[].concat("(")).concat(o(n.val)).concat(")"),null!=n.flags.GroupIndex&&(e.group[n.flags.GroupIndex]=n.flags.GroupIndex,n.flags.GroupName&&(e.group[n.flags.GroupName]=n.flags.GroupIndex)),t);t="",t=n.flags.MatchZeroOrOne?"?":n.flags.MatchZeroOrMore?"*":n.flags.MatchOneOrMore?"+":n.flags.min===n.flags.max?"{"+n.flags.min+"}":"{"+n.flags.min+","+(-1===n.flags.max?"":n.flags.max)+"}";return n.flags.min===n.flags.max||n.flags.isGreedy||(t+="?"),[].concat(o(n.val)).concat(t)}function H(e,n,t){var r=n.type;if(O===r||E===r)return n.val.length?n.val[f(0,n.val.length-1)]:null;if(R===r){var l,a,u=e.length>=t.maxLength?n.flags.min:(l=n.flags.min,e=-1===n.flags.max?l+1+2*t.maxLength:n.flags.max,f(l,e));if(u){a=new Array(u);for(var s=0;s<u;++s)a[s]=n.val;return a}return null}if(I===r&&n.flags.GroupIndex){r=V("",n.val,t);return t.group[n.flags.GroupIndex]=r,t.ret=r,null}return n.val}function X(e,n,t){var r=n.type;if(O===r){var l,a=n.val.length,u=a?V(0,n.val[0],t):0;for(s=1;s<a;++s)(l=V(0,n.val[s],t))<u&&(u=l);return a&&(t.ret=u),null}if(E===r)return n.val.length?n.val[0]:null;if(R===r){if(0===n.flags.min)return null;var s,o=n.flags.min,i=new Array(o);for(s=0;s<o;++s)i[s]=n.val;return i}if(I===r&&n.flags.GroupIndex){u=V(0,n.val,t);return t.group[n.flags.GroupIndex]=u,t.ret=u,null}return n.val}function Y(e,n,t){var r=n.type;if(O===r){var l,a,u=n.val.length;if(-1!==(s=u?V(0,n.val[0],t):0))for(l=1;l<u;++l){if(-1===(a=V(0,n.val[l],t))){s=-1;break}s<a&&(s=a)}return u&&(t.ret=s),null}if(E===r)return n.val.length?n.val[0]:null;if(R===r)return-1===(s=V(0,n.val,t))?t.ret=-1:0<s&&(-1===n.flags.max?t.ret=-1:0<n.flags.max?t.ret=n.flags.max*s:t.ret=s),null;if(I===r&&n.flags.GroupIndex){var s=V(0,n.val,t);return t.group[n.flags.GroupIndex]=s,t.ret=s,null}return n.val}function J(e,n){var t=n.type;if(k!==t)return n.val;for(var r,l=[],a=0,u=n.val.length,a=0;a<u&&(r=n.val[a],l.push(r),R===r.type&&0===r.flags.min||j===r.type&&(r.flags.MatchStart||r.flags.MatchEnd));++a);return l.length?l:null}function Q(e,n,t){if(null!=t.ret)return-1===t.ret?e=-1:e+=t.ret,e;if(-1===e)return e;if(n===+n)return e+=n;if(j===n.type&&n.flags.MatchEnd)return t.stop=1,e;var r=n.type;return B===r||w===r||A===r||L===r||j===r&&!n.flags.MatchStart&&!n.flags.MatchEnd?e+=n.flags.BackReference?t.group[n.flags.GroupIndex]||0:1:P===r&&(e+=n.val.length),e}function K(e,n,t){if(null!=t.ret)return e+=t.ret;if(s(n))return e+=n;if(j===n.type&&n.flags.MatchEnd)return t.stop=1,e;var r=n.type,l=null;if(B===r)l=n.val;else if(w===r){var a=[n.val[0],n.val[1]];A!==a[0].type&&L!==a[0].type||(a[0]=a[0].flags.Char),A!==a[1].type&&L!==a[1].type||(a[1]=a[1].flags.Char),l=v(a)}else if(A===r||L===r)l=[n.flags.Char];else if(j!==r||n.flags.MatchStart||n.flags.MatchEnd)P===r&&(l=n.val);else{a=n.val;if(n.flags.BackReference)return a=n.flags.GroupIndex,e+=C.call(t.group,a)?t.group[a]:"";l="D"===a?[ge(!1)]:"W"===a?[q(!1)]:"S"===a?[W(!1)]:"d"===a?[ge()]:"w"===a?[q()]:"s"===a?[W()]:"."===a&&n.flags.MatchAnyChar?[ce[S](f(0,ce.length-1))]:[b+a]}return l&&(e+=P===r?t.isCaseInsensitive?Z(l):l:function(n,e){if(!1!==e)return n.length?n[f(0,n.length-1)]:"";e=he.filter(function(e){return n.indexOf(e)<0});return e.length?e[f(0,e.length-1)]:""}(t.isCaseInsensitive?Z(l,!0):l,!t.node||!t.node.flags.NegativeMatch)),e}function ee(e,n,t){if(null!=t.ret)return t.ret.src&&(e.src+=t.ret.src),t.ret.group&&(e.group=i(t.ret.group,e.group)),e;if(s(n))return e.src+=n,e;var r,l=n.type;return B===l?e.src+=t.escaped?g(n.val.join(""),b,1):n.val.join(""):w===l?(r=[n.val[0],n.val[1]],t.escaped?(A===r[0].type?r[0]=r[0].flags.UnicodePoint?"\\u{"+r[0].flags.Code+"}":"\\u"+d(r[0].flags.Code,4):L===r[0].type?r[0]="\\x"+d(r[0].flags.Code,2):r[0]=g(r[0],b,1),A===r[1].type?r[1]=r[1].flags.UnicodePoint?"\\u{"+r[1].flags.Code+"}":"\\u"+d(r[1].flags.Code,4):L===r[1].type?r[1]="\\x"+d(r[1].flags.Code,2):r[1]=g(r[1],b,1)):(A!==r[0].type&&L!==r[0].type||(r[0]=r[0].flags.Char),A!==r[1].type&&L!==r[1].type||(r[1]=r[1].flags.Char)),e.src+=r[0]+"-"+r[1]):A===l?e.src+=n.flags.UnicodePoint?"\\u{"+n.flags.Code+"}":t.escaped?"\\u"+d(n.flags.Code,4):n.flags.Char:L===l?e.src+=t.escaped?"\\x"+d(n.flags.Code,2):n.flags.Char:j===l?n.flags.BackReference?t.compatibility||n.flags.GroupIndex===n.flags.GroupName?e.src+=b+n.flags.GroupIndex:e.src+="\\k<"+n.flags.GroupName+">":e.src+=n.flags.MatchAnyChar||n.flags.MatchStart||n.flags.MatchEnd?""+n.val:b+n.val:P===l&&(e.src+=t.escaped?g(n.val,b):n.val),e}function ne(e,n,t){if(null!=t.ret)return e.positive=m(e.positive,t.ret.positive),e.negative=m(e.negative,t.ret.negative),e;if(j===n.type&&n.flags.MatchEnd)return t.stop=1,e;var r=n.type,l=t.node&&E===t.node.type&&t.node.flags.NegativeMatch,a=l?"negative":"positive";return B===r?e[a]=m(e[a],n.val):w===r?(t=[n.val[0],n.val[1]],A!==t[0].type&&L!==t[0].type||(t[0]=t[0].flags.Char),A!==t[1].type&&L!==t[1].type||(t[1]=t[1].flags.Char),e[a]=m(e[a],v(t))):A===r||L===r?e[a][n.flags.Char]=1:j!==r||n.flags.BackReference||n.flags.MatchStart||n.flags.MatchEnd?P===r&&(e.positive[n.val[S](0)]=1):"D"===(n=n.val)?e[l?"positive":"negative"]["\\d"]=1:"W"===n?e[l?"positive":"negative"]["\\w"]=1:"S"===n?e[l?"positive":"negative"]["\\s"]=1:"B"===n?e[l?"positive":"negative"]["\\b"]=1:e[a][b+n]=1,e}function te(e){var n=!1;return!!(2<e.length&&"x"===e[S](0)&&y(pe,e,1,2,2))&&[n=e.slice(0,3),n.slice(1)]}function re(e,n){var t,r=!1;if(4<e.length&&"u"===e[S](0)){if(n.u&&"{"===e[S](1)&&(t=y(pe,e,2,2,6))&&"}"===e[S](t+2))return[r=e.slice(0,t+3),r.slice(2,-1),1];if(t=y(pe,e,1,4,4))return[r=e.slice(0,t+1),r.slice(1),0]}return!1}function le(e){var n,t,r,l,a,u,s,o,i,p,f,c,h,g="",d=0,v=[],m=[],y={};if(0<e.inGroup){if(a=e.re.substr(e.pos,2),s=1,"?P="===(u=e.re.substr(e.pos,3))){for(y.BackReference=1,y.GroupName="",e.pos+=3,n=e.len;e.pos<n&&")"!==(t=e.re[S](e.pos++));)y.GroupName+=t;return y.GroupIndex=C.call(e.group,y.GroupName)?e.group[y.GroupName]:null,U(j,y.GroupName,y)}if("?#"===a){for(y.Comment=1,e.pos+=2,g="",n=e.len;e.pos<n&&")"!==(t=e.re[S](e.pos++));)g+=t;return U(D,g)}if("?:"===a)y.NotCaptured=1,e.pos+=2,s=0;else if("?="===a)y.LookAhead=1,e.pos+=2,s=0;else if("?!"===a)y.NegativeLookAhead=1,e.pos+=2,s=0;else if("?<="===u)y.LookBehind=1,e.pos+=3,s=0;else if("?<!"===u)y.NegativeLookBehind=1,e.pos+=3,s=0;else if("?<"===a||"?P<"===u)for(y.NamedGroup=1,y.GroupName="",e.pos+="?<"===a?2:3,n=e.len;e.pos<n&&">"!==(t=e.re[S](e.pos++));)y.GroupName+=t;++e.index,s&&(++e.groupIndex,y.GroupIndex=e.groupIndex,e.group[y.GroupIndex]=y.GroupIndex,y.GroupName&&(e.group[y.GroupName]=y.GroupIndex))}for(n=e.len;e.pos<n;)if(t=e.re[S](e.pos++),(h=b===t)&&(t=e.re[S](e.pos++)),h)if("u"===t)(r=re(e.re.substr(e.pos-1),e.flags))?(d&&(m.push(U(P,g)),g="",d=0),e.pos+=r[0].length-1,m.push(U(A,r[0],{Char:(r[2]?x:G)(parseInt(r[1],16)),Code:r[1],UnicodePoint:!!r[2]}))):(g+=t,d+=1);else if("x"===t)(r=te(e.re.substr(e.pos-1)))?(d&&(m.push(U(P,g)),g="",d=0),e.pos+=r[0].length-1,m.push(U(L,r[0],{Char:G(parseInt(r[1],16)),Code:r[1]}))):(g+=t,d+=1);else if("k"===t&&"<"===e.re[S](e.pos)){for(d&&(m.push(U(P,g)),g="",d=0),e.pos++,g="";e.pos<n;){if(">"===(t=e.re[S](e.pos))){e.pos++;break}g+=t,e.pos++}(l={BackReference:1}).GroupName=g,l.GroupIndex=C.call(e.group,g)?e.group[g]:null,m.push(U(j,g,l)),g=""}else if(C.call(M,t)&&"/"!==t)d&&(m.push(U(P,g)),g="",d=0),(l={})[M[t]]=1,m.push(U(j,t,l));else if("1"<=t&&t<="9"){for(d&&(m.push(U(P,g)),g="",d=0),g=t;e.pos<n&&"0"<=(t=e.re[S](e.pos))&&t<="9";)g+=t,e.pos++;(l={BackReference:1}).GroupName=g,l.GroupIndex=parseInt(g,10),m.push(U(j,g,l)),g=""}else g+=t,d+=1;else{if(0<e.inGroup&&")"===t)return d&&(m.push(U(P,g)),g="",d=0),v.length?(v.push(U(k,m)),m=[],(l={})[N["|"]]=1,U(I,U(O,v,l),y)):U(I,U(k,m),y);"|"===t?(d&&(m.push(U(P,g)),g="",d=0),v.push(U(k,m)),m=[]):"["===t?(d&&(m.push(U(P,g)),g="",d=0),m.push(function(e){var n,t,r,l,a,u,s,o,i=[],p=[],f=[],c={},h=!1;for("^"===e.re[S](e.pos)&&(c.NegativeMatch=1,++e.pos),t=e.len;e.pos<t;)if(s=u=!1,a=null,r=n,n=e.re[S](e.pos++),(o=b===n)&&(n=e.re[S](e.pos++)),o&&("u"===n?(a=re(e.re.substr(e.pos-1),e.flags))&&(e.pos+=a[0].length-1,n=U(A,a[0],{Char:(a[2]?x:G)(parseInt(a[1],16)),Code:a[1],UnicodePoint:!!a[2]}),u=!0):"x"===n?(a=te(e.re.substr(e.pos-1)))&&(e.pos+=a[0].length-1,n=U(L,a[0],{Char:G(parseInt(a[1],16)),Code:a[1]}),u=!0):C.call(M,n)&&"/"!==n&&(s=!0,(a={})[M[n]]=1,n=U(j,n,a))),h)n instanceof U&&n.type===j&&-1!==["s","S","d","D","w","W"].indexOf(n.val)?((l[0]instanceof U?i:p).push(l[0]),p.push("-"),i.push(n)):(p.length&&(f=f.concat(p),p=[]),l[1]=n,i.push(U(w,l))),h=!1;else if(o)u||s?(p.length&&(f=f.concat(p),p=[]),i.push(n)):p.push(n);else{if("]"===n)return p.length&&(f=f.concat(p),p=[]),f.length&&i.push(U(B,f)),U(E,i,c);"-"!==n||null==r||"]"===e.re[S](e.pos)||r instanceof U&&r.type===j&&-1!==["s","S","d","D","w","W"].indexOf(r.val)?p.push(n):(l=[r,""],(r instanceof U?i:p).pop(),h=!0)}return p.length&&(f=f.concat(p),p=[]),f.length&&i.push(U(B,f)),U(E,i,c)}(e))):"("===t?(d&&(m.push(U(P,g)),g="",d=0),e.inGroup+=1,m.push(le(e)),--e.inGroup):"{"===t?(d&&(m.push(U(P,g)),g="",d=0),o=e.re.substr(e.pos-1),h=c=f=p=i=void 0,p=o.length,f=0,h=c=!1,r=2<p&&"{"===o[S](f)&&(c=["","",null],(i=z(ue,o,++f))&&(f+=i),!!(i=F(ie,o,f))&&(c[1]=o.slice(f,f+i),(i=z(ue,o,f+=i))&&(f+=i),f<p&&","===o[S](f)&&(f+=1,h=!0),(i=z(ue,o,f))&&(f+=i),(i=F(ie,o,f))&&(c[2]=o.slice(f,f+i),f+=i),(i=z(ue,o,f))&&(f+=i),f<p&&"}"===o[S](f)&&(f++,c[0]=o.slice(0,f),h||(c[2]=c[1]),c))),e.pos+=r[0].length-1,(l={val:r[0],MatchMinimum:r[1],MatchMaximum:r[2]||"unlimited",min:parseInt(r[1],10),max:r[2]?parseInt(r[2],10):-1})[N[t]]=1,e.pos<n&&"?"===e.re[S](e.pos)?(l.isGreedy=0,e.pos++):l.isGreedy=1,c=m.pop(),P===c.type&&1<c.val.length&&(m.push(U(P,c.val.slice(0,-1))),c.val=c.val.slice(-1)),m.push(U(R,c,l))):"*"===t||"+"===t||"?"===t?(d&&(m.push(U(P,g)),g="",d=0),(l={})[N[t]]=1,l.min="+"===t?1:0,l.max="?"===t?1:-1,e.pos<n&&"?"===e.re[S](e.pos)?(l.isGreedy=0,e.pos++):l.isGreedy=1,c=m.pop(),P===c.type&&1<c.val.length&&(m.push(U(P,c.val.slice(0,-1))),c.val=c.val.slice(-1)),m.push(U(R,c,l))):C.call(N,t)?(d&&(m.push(U(P,g)),g="",d=0),(l={})[N[t]]=1,m.push(U(j,t,l))):(g+=t,d+=1)}return d&&(m.push(U(P,g)),g="",d=0),v.length?(v.push(U(k,m)),m=[],l={},y[N["|"]]=1,U(O,v,l)):U(k,m)}var ae,t=function(e){return e[a](0)},ue=" \t\v",se="~!@#$%^&*()-+=[]{}\\|;:,./<>?",oe="0123456789",ie=[(ae=oe)[a](0),ae[a](ae.length-1)],pe=[ie,[t("a"),t("f")],[t("A"),t("F")]],fe="_"+v("a","z").join("")+v("A","Z").join(""),ce=ue+se+oe+fe,he=ce.split(""),ge=function(e){return!1!==e?oe[S](f(0,oe.length-1)):($()+W()+de())[S](f(0,2))},de=function(e){return!1!==e?fe[S](f(0,fe.length-1)):($()+W()+ge())[S](f(0,2))};function ve(e,n,t){if(!(this instanceof ve))return new ve(e,n,t);e&&this.input(e,n,t)}function me(){if(!(this instanceof me))return new me;this.re=null,this.reset()}ve.VERSION=e,(ve[n]={constructor:ve,ast:null,flavor:"",re:null,fl:null,src:null,grp:null,min:null,max:null,ch:null,bc:!0,dispose:function(){var e=this;return e.ast=null,e.flavor=null,e.re=null,e.fl=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},reset:function(){var e=this;return e.ast=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},backwardsCompatible:function(e){return this.bc=!!e,this},input:function(e,n,t){var r=this;if(!arguments.length)return r.re;if(e){n=!1!==n&&(n||"/");var l,a={},u=(e=e.toString()).length;if(n){for(;0<u&&n!==(l=e[S](u-1));)a[l]=1,--u;e=0<u?n===e[S](0)&&n===e[S](u-1)?e.slice(1,u-1):e.slice(0,u):""}r.re!==e&&r.reset(),r.re=e,r.fl=a,r.flavor=String(t||"")}return r},analyze:function(){var e,n=this;return null!=n.re&&null===n.ast&&(e=new p(n.re,n.fl,n.flavor),n.ast=le(e),e.dispose()),n},synthesize:function(e){var n=this;return null==n.re||(null===n.ast&&(n.analyze(),n.src=null,n.grp=null),null===n.src&&(e={MAP:k|O|I|E|R,REDUCE:A|L|j|B|w|P,IGNORE:D,map:_,reduce:ee,escaped:!1!==e,compatibility:n.bc,group:{}},e=V({src:"",group:{}},n.ast,e),n.src=e.src,n.grp=e.group)),n},source:function(){return null==this.re?null:(null===this.src&&this.synthesize(),this.src)},groups:function(e){return null==this.re?null:(null===this.grp&&this.synthesize(),!0===e?sel.grp:i(this.grp))},compile:function(e,n){return null==this.re?null:(e=e||this.fl||{},new RegExp(this.source(),(e.g||e.G?"g":"")+(e.i||e.I?"i":"")+(e.m||e.M?"m":"")+(e.y||e.Y?"y":"")+(e.u?"u":"")+(e.d?"d":"")+(e.s?"s":"")))},tree:function(e){var n=this;return null==n.re?null:(null===n.ast&&n.analyze(),!0===e?n.ast.toObject():n.ast)},sample:function(e,n){var t,r=this;if(null==r.re)return null;if(null===r.ast&&r.analyze(),t={MAP:k|O|I|E|R,REDUCE:A|L|j|B|w|P,IGNORE:D,map:H,reduce:K,maxLength:0|e||1,isCaseInsensitive:null!=r.fl.i,group:{}},1<(n=0|n||1)){for(var l=new Array(n),a=0;a<n;++a)l[a]=V("",r.ast,t);return l}return V("",r.ast,t)},minimum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.min=null),null===n.min&&(e={MAP:k|O|I|E|R,REDUCE:A|L|j|B|w|P,IGNORE:D,map:X,reduce:Q,group:{}},n.min=0|V(0,n.ast,e)),n.min)},maximum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.max=null),null===n.max&&(e={MAP:k|O|I|E|R,REDUCE:A|L|j|B|w|P,IGNORE:D,map:Y,reduce:Q,group:{}},n.max=V(0,n.ast,e)),n.max)},peek:function(){var e,n,t,r,l,a,u,s=this;if(null==s.re)return null;for(r in null===s.ast&&(s.analyze(),s.ch=null),null===s.ch&&(e={MAP:k|O|I|E|R,REDUCE:A|L|j|B|w|P,IGNORE:D,map:J,reduce:ne,group:{}},s.ch=V({positive:{},negative:{}},s.ast,e)),t={positive:i(s.ch.positive),negative:i(s.ch.negative)},n=null!=s.fl.i,t){for(l in u={},a=t[r])"\\d"===l?(delete a[l],u=m(u,v("0","9"))):"\\s"===l?(delete a[l],u=m(u,["\f","\n","\r","\t","\v","Â ","\u2028","\u2029"])):"\\w"===l?(delete a[l],u=m(u,["_"].concat(v("0","9")).concat(v("a","z")).concat(v("A","Z")))):"\\b"===l?(delete a[l],u[N.b]=1):"\\."===l?(delete a[l],u[N["."]]=1):b!==l[S](0)&&n?(u[l.toLowerCase()]=1,u[l.toUpperCase()]=1):b===l[S](0)&&delete a[l];t[r]=m(a,u)}return t}}).set=ve[n].input,me.VERSION=e;n=me[n]={constructor:me,re:null,g:0,grp:null,level:0,ast:null,dispose:function(){var e=this;return e.re=null,e.g=null,e.grp=null,e.level=null,e.ast=null,e},reset:function(){var e=this;return e.g=0,e.grp={},e.level=0,e.ast=[{node:[],type:k,flag:""}],e},compose:function(){var e=this,n=c(arguments).join(""),t=e.ast[0].node.join("");return e.re={source:t,flags:n,groups:e.grp,pattern:new RegExp(t,n||"")},e.reset(),e.re},partial:function(e){var n=this.ast[0].node.join("");return!1!==e&&this.reset(),n},token:function(e,n){return null!=e&&this.ast[this.level].node.push(n?g(String(e),b):String(e)),this},literal:function(e){return this.token(String(e),!0)},regexp:function(e){return this.token(String(e),!1)},SOL:function(){return this.ast[this.level].node.push("^"),this},SOF:function(){return this.SOL()},EOL:function(){return this.ast[this.level].node.push("$"),this},EOF:function(){return this.EOL()},LF:function(){return this.ast[this.level].node.push("\\n"),this},CR:function(){return this.ast[this.level].node.push("\\r"),this},TAB:function(){return this.ast[this.level].node.push("\\t"),this},CTRL:function(e){return this.ast[this.level].node.push("\\c"+(e||0)),this},HEX:function(e){return this.ast[this.level].node.push("\\x"+d(e||0,2)),this},UNICODE:function(e,n){return this.ast[this.level].node.push(!0===n?"\\u{"+String(e||0)+"}":"\\u"+d(e||0,4)),this},backSpace:function(){return this.ast[this.level].node.push("[\\b]"),this},any:function(e){return this.ast[this.level].node.push(e?"[\\s\\S]":"."),this},space:function(e){return arguments.length<1&&(e=!0),this.ast[this.level].node.push(e?"\\s":"\\S"),this},digit:function(e){return arguments.length<1&&(e=!0),this.ast[this.level].node.push(e?"\\d":"\\D"),this},word:function(e){return arguments.length<1&&(e=!0),this.ast[this.level].node.push(e?"\\w":"\\W"),this},boundary:function(e){return arguments.length<1&&(e=!0),this.ast[this.level].node.push(e?"\\b":"\\B"),this},characters:function(){var e=this;return E===e.ast[e.level].type&&e.ast[e.level].node.push(function(e){for(var n=[],t=0;t<e.length;)n=n.concat(e[t++]);return n}(c(arguments)).map(function(e){return g(String(e),b,1)}).join("")),e},range:function(e,n){var t=this;return null!=e&&null!=n&&E===t.ast[t.level].type&&t.ast[t.level].node.push(g(String(e),b,1)+"-"+g(String(n),b,1)),t},backReference:function(e){var n=this;return n.ast[n.level].node.push(b+(C.call(n.grp,e)?n.grp[e]:0|e)),n},repeat:function(e,n,t){var r=this;if(null==e)return r;arguments.length<3&&(t=!0);t=(null==n||e===n?"{"+String(e)+"}":"{"+String(e)+","+String(n)+"}")+(t?"":"?");return r.ast[r.level].node[r.ast[r.level].node.length-1]+=t,r},zeroOrOne:function(e){var n=this;return arguments.length<1&&(e=!0),n.ast[n.level].node[n.ast[n.level].node.length-1]+=e?"?":"??",n},zeroOrMore:function(e){var n=this;return arguments.length<1&&(e=!0),n.ast[n.level].node[n.ast[n.level].node.length-1]+=e?"*":"*?",n},oneOrMore:function(e){var n=this;return arguments.length<1&&(e=!0),n.ast[n.level].node[n.ast[n.level].node.length-1]+=e?"+":"+?",n},alternate:function(){return this.level++,this.ast.push({node:[],type:O,flag:"",sequences:[]}),this},either:function(){return this.alternate()},or_:function(){var e=this.ast[this.level];return O===e.type&&e.node.length&&(e.sequences.push(e.node.join("")),e.node=[]),this},group:function(e,n){var t=this,r=I,l="";return s(e)?(l=e,(e={})[l]=n,l=""):e=e||{},e.name||e.named?(t.g++,t.grp[t.g]=t.g,t.grp[e.name||e.named]=t.g):!0===e.lookahead||!1===e.lookahead?l=!1===e.lookahead?"?!":"?=":!0===e.lookbehind||!1===e.lookbehind?l=!1===e.lookbehind?"?<!":"?<=":!0===e.nocapture?l="?:":!0===e.characters||!1===e.characters?(r=E,l=!1===e.characters?"^":""):(t.g++,t.grp[t.g]=t.g),t.level++,t.ast.push({node:[],type:r,flag:l}),t},subGroup:function(e){return this.group(e)},characterGroup:function(e){return this.group({characters:!1!==e})},namedGroup:function(e){return this.group({name:e})},nonCaptureGroup:function(){return this.group({nocapture:!0})},lookAheadGroup:function(e){return this.group({lookahead:!1!==e})},lookBehindGroup:function(e){return this.group({lookbehind:!1!==e})},end:function(e){var n,t,r,l,a=this;for(e=(arguments.length?0|e:1)||1;e--;)n=(l=a.ast.length?a.ast.pop():null)?l.type:0,t=l?l.flag:"",r=l?l.node:[],O===n&&(l=l?l.sequences:[],r=r.length?l.concat(r.join("")):l),0<a.level&&(--a.level,O===n?a.ast[a.level].node.push(r.join("|")):I===n?a.ast[a.level].node.push("("+t+r.join("")+")"):E===n?a.ast[a.level].node.push("["+t+r.join("")+"]"):a.ast[a.level].node.push(r.join("")));return a}};return n.startOfLine=n.SOL,n.endOfLine=n.EOL,n.startOfInput=n.SOF,n.endOfInput=n.EOF,n.match=n.token,n.sub=n.regexp,n.lineFeed=n.LF,n.carriageReturn=n.CR,n.tabulate=n.TAB,n.wordBoundary=n.boundary,n.chars=n.characters,n.charGroup=n.characterGroup,n.namedSubGroup=n.namedGroup,n.nonCaptureSubGroup=n.nonCaptureGroup,n.lookAheadSubGroup=n.lookAheadGroup,n.lookBehindSubGroup=n.lookBehindGroup,{VERSION:e,Node:U,Analyzer:ve,Composer:me}});